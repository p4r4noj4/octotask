<template name="Progress">
  {{>RepositoryHeader}}
  <h5 class="col-md-offset-1">
    <a href="/repositories/{{username}}/{{reponame}}">See issues</a>
  </h5>

  <div id="chart"></div>

  <div class="row">
    <div class="col-md-offset-1 col-md-10">
      {{#if milestones.length}}
        <div class="list-group">
          {{#each milestones}}
            {{> MilestoneItem}}
          {{/each}}
        </div>
      {{else}}
        <div class="jumbotron text-center">
          <h2>No milestones yet!</h2>
        </div>
      {{/if}}
    </div>
  </div>
</template>

<template name="MilestoneItem">
  <div class="list-group-item">
    <div class="row">
      <h4 class="list-group-item-heading col-md-6">
        {{title}}
        {{#unless isOpen state}}
          <span class="badge" style="vertical-align: middle;">closed</span>
        {{/unless}}
      </h4>
      <h5 class="list-group-item-heading col-md-6">
        <div class="pull-right">
          <img class="img-circle" style="max-height:30px" src="{{creator.avatar_url}}" title="Created by {{creator.login}}" alt="Created by {{creator.login}}">
        </div>
      </h5>
    </div>

    <p class="list-group-item-text">{{#markdown}}{{#emoji}}{{description}}{{/emoji}}{{/markdown}}</p>

    <button type="button" class="btn btn-info" id="showProgress">Show progress</button>
  </div>
</template>
